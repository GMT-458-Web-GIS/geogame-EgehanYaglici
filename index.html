<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoGame</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
</head>
<body>
<!-- Tutorial Overlay -->
<div id="tutorial-overlay" class="hidden">
  <div id="tutorial-step">
    <div class="tutorial-highlight"></div>
    <div class="tutorial-text">
      <p id="tutorial-message">Welcome to GeoGame! This is your map. Click next to continue.</p>
      <button id="tutorial-next">Next</button>
    </div>
  </div>
  <button id="tutorial-close">âœ–</button>
</div>
<!-- Game Container -->
<div id="game-container">
  <!-- Harita AlanÄ± -->
  <div id="map"></div>

  <!-- SaÄŸ Panel -->
  <div id="right-panel">
    <!-- SatÄ±n Alma ve Kontroller -->
    <div id="control-panel">
      <h3>Purchase Units</h3>
      <p>Remaining GIS Coin: <span id="coin-amount">1000</span></p>
      <div class="unit-buttons-container">
        <button class="unit-button" onclick="buyUnit('infantry')">Infantry - 100 GIS (10 Soldiers)</button>
        <button class="unit-button" onclick="buyUnit('cavalry')">Cavalry - 350 GIS (5 Soldiers)</button>
        <button class="unit-button" onclick="buyUnit('tank')">Tank - 500 GIS (1 Unit)</button>
        <button class="unit-button" onclick="buyUnit('airplane')">Airplane - 600 GIS (1 Unit)</button>
      </div>

      <!-- YeÅŸil Aksiyon ButonlarÄ± -->
      <div class="action-buttons">
        <button class="action-button" onclick="confirmRoute()">Confirm Route</button>
        <button class="action-button" onclick="mobilizeUnits()">Mobilize Units</button>
      </div>

      <!-- KÄ±rmÄ±zÄ± ve Mavi Butonlar (Yan Yana) -->
      <div class="action-buttons-row">
        <button class="start-battle" onclick="startBattle()">Start Battle</button>
        <button class="how-to-play" onclick="window.location.href='intro.html'">How to Play</button>
      </div>
    </div>

    <!-- Zar SonuÃ§larÄ± -->
    <div id="dice-area">
      <h4>Dice Roll Results</h4>
      <div id="dice-results">
        <div id="attack-dice" class="dice">Attack Dice: ðŸŽ²</div>
        <div id="defense-dice" class="dice">Defense Dice: ðŸŽ²</div>
      </div>
      <div id="dice-effects">
        <p id="attack-effect">Attack Effect: None</p>
        <p id="defense-effect">Defense Effect: None</p>
      </div>
    </div>

    <!-- Current Status -->
    <div id="current-status">
      <h3>Current Status</h3>
      <div id="status-tables">
        <div>
          <h4>Player Units</h4>
          <table id="player-status-table">
            <thead>
            <tr>
              <th>Type</th>
              <th>Attack</th>
              <th>Health</th>
              <th>Range</th>
            </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div>
          <h4>Defense Units</h4>
          <table id="defense-status-table">
            <thead>
            <tr>
              <th>Type</th>
              <th>Attack</th>
              <th>Health</th>
              <th>Range</th>
            </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Battle Status -->
    <div id="battle-status">
      <h3 onclick="toggleBattleStatus()">Battle Status (Click to toggle)</h3>
      <div id="battle-log" style="display: none;">
        <p id="battle-round-info">Round: -</p>
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
<script src="map.js"></script>
<script src="player.js"></script>
<script src="combat.js"></script>
<script src="roll_dice.js"></script>
<script src="tutorial.js"></script>
<script>
  function toggleBattleStatus() {
    const battleLog = document.getElementById('battle-log');
    battleLog.style.display = battleLog.style.display === 'none' ? 'block' : 'none';
  }
</script>

</body>
</html>
